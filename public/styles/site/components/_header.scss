header{
    $header-height:80px;
    $menu-button-height:60px;
    $menu-button-width:64px;
    $line-width:48px;
    $line-height:6px;
    $line-gap: 16px;
    $tranistion-duration: 0.5s;
    position:fixed;
    top:0;
    height:$header-height;
    width:100%;
    z-index: 100;
    background-image:linear-gradient(0deg, rgba(0,0,0,0), rgba(0,0,0,0.5));
    $menu-shrink-ratio: 1.5;
    &.active{
        $icon-color: $color-primary-inverse;
        $background-color: lighten($color-secondary,10%);
        height:$header-height / $menu-shrink-ratio + 6px;
        //background-image:linear-gradient(270deg, rgba($background-color,.7),  rgba($background-color,0.99));
        background-color: rgba($background-color,0.99);
        background-image: none;
        .menu{
            height: $menu-button-height / $menu-shrink-ratio;
            width: $menu-button-width / $menu-shrink-ratio;
            top:($header-height - $menu-button-height)/(2 * $menu-shrink-ratio);
            border-color: $icon-color;
        }
        .menu-button{
            height:$line-height / $menu-shrink-ratio;
            width: $line-width / $menu-shrink-ratio;
            background-color: $icon-color;
            bottom: (-($menu-button-height/2) + ($line-height/2) ) / $menu-shrink-ratio;
            &:before, &:after{
                height:$line-height / $menu-shrink-ratio;
                width: $line-width / $menu-shrink-ratio;
                background-color: $icon-color;
            }
            &:before{
                top: -1 * $line-gap / $menu-shrink-ratio
            }
            &:after{
                bottom: -1 * $line-gap / $menu-shrink-ratio
            }
        }

        .bicycle{
            right: 300px;
            transition: right $bike-animation-duration linear;
            .wheel{
                animation: spin $bike-spin-duration ($bike-animation-duration / $bike-spin-duration) linear;
            }
            .spoke{
                visibility: hidden;
                transition: visibility 0s linear $bike-animation-duration;
            }
        }
    }
    nav{
        position: relative;
        z-index: 100;
        height: 100%;
        .menu{
            height:$menu-button-height;
            position:relative;
            top:($header-height - $menu-button-height)/(2);
            margin-left:20px;
            width:$menu-button-width;
            border:solid 2px $color-secondary;
            border-radius:8px;
            cursor: pointer;
            top: 14px;
            transition: height $tranistion-duration ease-in-out, width $tranistion-duration ease-in-out;
            &:hover{
                .menu-button{
                    background-color: $color-white;
                    &:before,&:after{
                        background-color: $color-white; 
                    }
                }
            }

        }
        .menu-button{
            content:'';
            height:$line-height;
            width: $line-width;
            background-color:$color-secondary;
            position:relative;
            display: block;
            margin:0 auto;
            bottom:-($menu-button-height/2) + ($line-height/2);
            transition: all $tranistion-duration ease-in-out;
            border-radius:2px;
            cursor:pointer;
            &:before{
                content:'';
                transition: all $tranistion-duration ease-in-out;
                border-radius:2px;
                position:absolute;
                height:$line-height;
                width: $line-width;
                background-color:$color-secondary;
                top:-1 * $line-gap;
            }
            &:after{
                content:'';
                transition: all $tranistion-duration ease-in-out;
                border-radius:2px;
                position:absolute;
                height:$line-height;
                width: $line-width;
                background-color:$color-secondary;
                bottom:-1 * $line-gap;
            }
            &.close{
                height:0;
                &:before{
                    transform:rotate(45deg);
                    top:.08rem;
                    background-color:$color-white;

                }
                &:after{
                    transform:rotate(-45deg);
                    bottom:-.4rem;
                    background-color:$color-white;
                }
            }
        }

    }
    .bicycle{
        position: absolute;
        right: -100px;
        top: 0;
        visibility: visible;
        transition: right 0s linear;
        overflow: visible;
        .spoke{
            //hide spokes once animation complete
            visibility: visible;
            transition: visibility 0s linear;
        }
        .logo{
            @include font-sans-serif(40px);
            transform: scaleX(-1);
            letter-spacing: -5px;
            white-space: nowrap;
            position: absolute;
            right: 100px;
            color:$color-primary-inverse;
            display: inline-block;
        }
    }
}
